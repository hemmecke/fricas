
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installation Guide &#8212; FriCAS</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Help" href="help.html" />
    <link rel="prev" title="Download" href="download.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="help.html" title="Help"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="download.html" title="Download"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FriCAS</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="download.html" accesskey="U">Download</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installation Guide</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation-guide">
<h1>Installation Guide<a class="headerlink" href="#installation-guide" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#quick-installation" id="id1">Quick installation</a></p></li>
<li><p><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></p>
<ul>
<li><p><a class="reference internal" href="#standard-build-tools" id="id3">Standard build tools</a></p></li>
<li><p><a class="reference internal" href="#lisp" id="id4">Lisp</a></p></li>
<li><p><a class="reference internal" href="#x-libraries-optional-but-needed-for-graphics-and-hyperdoc" id="id5">X libraries (optional, but needed for graphics and HyperDoc)</a></p></li>
<li><p><a class="reference internal" href="#xvfb-optional-but-highly-recommended" id="id6">xvfb (optional, but highly recommended)</a></p></li>
<li><p><a class="reference internal" href="#gmp-optional" id="id7">GMP (optional)</a></p></li>
<li><p><a class="reference internal" href="#latex-optional" id="id8">LaTeX (optional)</a></p></li>
<li><p><a class="reference internal" href="#sphinxdoc-optional" id="id9">SphinxDoc (optional)</a></p></li>
<li><p><a class="reference internal" href="#aldor-optional" id="id10">Aldor (optional)</a></p></li>
<li><p><a class="reference internal" href="#extra-libraries-needed-by-ecl" id="id11">Extra libraries needed by ECL</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#detailed-installations-instructions" id="id12">Detailed installations instructions</a></p>
<ul>
<li><p><a class="reference internal" href="#extra-information" id="id13">Extra information</a></p></li>
<li><p><a class="reference internal" href="#hyperdoc-and-graphics" id="id14">HyperDoc and graphics</a></p></li>
<li><p><a class="reference internal" href="#algebra-optimization" id="id15">Algebra optimization</a></p></li>
<li><p><a class="reference internal" href="#using-gmp-with-sbcl-or-clozure-cl" id="id16">Using GMP with SBCL or Clozure CL</a></p></li>
<li><p><a class="reference internal" href="#building-documentation" id="id17">Building documentation</a></p></li>
<li><p><a class="reference internal" href="#aldor-library-libfricas-al" id="id18">Aldor library libfricas.al</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#known-problems" id="id19">Known problems</a></p></li>
</ul>
</div>
<div class="section" id="quick-installation">
<h2><a class="toc-backref" href="#id1">Quick installation</a><a class="headerlink" href="#quick-installation" title="Permalink to this headline">¶</a></h2>
<p>FriCAS now tries to support standard GNU build/installation
conventions.  So if you have sources and all prerequisites, then</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>configure &amp;&amp; make &amp;&amp; sudo make install
</pre></div>
</div>
<p>should work.  The above will install FriCAS files into
<code class="docutils literal notranslate"><span class="pre">/usr/local/lib/fricas/</span></code>  and put the <code class="docutils literal notranslate"><span class="pre">fricas</span></code> command into
<code class="docutils literal notranslate"><span class="pre">/usr/local/bin/</span></code>.
You can give arguments to <code class="docutils literal notranslate"><span class="pre">configure</span></code> to change those locations.</p>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id2">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="standard-build-tools">
<h3><a class="toc-backref" href="#id3">Standard build tools</a><a class="headerlink" href="#standard-build-tools" title="Permalink to this headline">¶</a></h3>
<p>To <em>build</em> FriCAS you need standard build tools like C compiler and
make.</p>
</div>
<div class="section" id="lisp">
<h3><a class="toc-backref" href="#id4">Lisp</a><a class="headerlink" href="#lisp" title="Permalink to this headline">¶</a></h3>
<p>To <em>build</em> FriCAS you need <em>one</em> of the following Lisp variants:</p>
<ul>
<li><p><a class="reference external" href="http://sbcl.sourceforge.net/platform-table.html">SBCL</a> 1.0.7 or later (preferred)</p>
<p><a class="reference external" href="http://sbcl.sourceforge.net/platform-table.html">http://sbcl.sourceforge.net/platform-table.html</a></p>
</li>
<li><p><a class="reference external" href="http://ccl.clozure.com/manual/chapter2.2.html">Clozure CL</a> (former openmcl), starting from openmcl 1.1 prerelease
070512</p>
<p><a class="reference external" href="https://ccl.clozure.com/download.html">https://ccl.clozure.com/download.html</a></p>
</li>
<li><p><a class="reference external" href="http://ecls.sourceforge.net">ECL</a> 0.9l or later</p>
<p><a class="reference external" href="https://common-lisp.net/project/ecl">https://common-lisp.net/project/ecl</a></p>
</li>
<li><p><a class="reference external" href="http://clisp.cons.org">CLISP</a> 2.41 or later</p></li>
<li><p><a class="reference external" href="https://www.cons.org/cmucl/">CMUCL</a></p></li>
<li><p>FriCAS builds also using <a class="reference external" href="https://www.gnu.org/software/gcl">GCL</a>, at least build using released version
2.6.12 works.  Build using newer GCL versions from git repository
fails.</p></li>
</ul>
<p>All Lisp implementations should give essentially the same
functionality, however performance (speed) may differ quite a lot.  ATM
CMU CL port should be considered experimental, it received only little
testing.  Also CMU CL seem to have problems on some machines.  By
default FriCAS tries to use SBCL, since it is fast and reliable.  On
64-bit AMD64 on average SBCL is the fastest one (9 times faster than
CLISP), Clozure CL the second (about 1.5 times slower than SBCL), than
GCL and ECL (about 3 times slower than SBCL) and CLISP is the slowest
one.  Note: very old versions of ECL were much (about 4 times) slower, you
should use reasonably new version if you care about speed.</p>
<p>Some computation work much faster on 64-bit machines, especially
when using SBCL.</p>
</div>
<div class="section" id="x-libraries-optional-but-needed-for-graphics-and-hyperdoc">
<h3><a class="toc-backref" href="#id5">X libraries (optional, but needed for graphics and HyperDoc)</a><a class="headerlink" href="#x-libraries-optional-but-needed-for-graphics-and-hyperdoc" title="Permalink to this headline">¶</a></h3>
<p>On Debian (or Ubuntu) install the following packages.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install libx11-dev libxt-dev libice-dev \
                 libsm-dev libxau-dev libxdmcp-dev libxpm-dev
</pre></div>
</div>
</div>
<div class="section" id="xvfb-optional-but-highly-recommended">
<h3><a class="toc-backref" href="#id6">xvfb (optional, but highly recommended)</a><a class="headerlink" href="#xvfb-optional-but-highly-recommended" title="Permalink to this headline">¶</a></h3>
<p>If you compile FriCAS from the <a class="reference external" href="https://github.com/hemmecke/fricas">FriCAS git repository</a>, and <code class="docutils literal notranslate"><span class="pre">configure</span></code>
does not detect the <code class="docutils literal notranslate"><span class="pre">xvfb-run</span></code> program, then graphic examples will
not be built.  See Section <a class="reference internal" href="#hyperdoc-and-graphics">HyperDoc and graphics</a> for more detail.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install xvfb
</pre></div>
</div>
</div>
<div class="section" id="gmp-optional">
<h3><a class="toc-backref" href="#id7">GMP (optional)</a><a class="headerlink" href="#gmp-optional" title="Permalink to this headline">¶</a></h3>
<p>You you use SBCL or Clozure CL the <code class="docutils literal notranslate"><span class="pre">--enable-gmp</span></code> configure option
is available only if the development version of GMP is installed.
Note: using GMP should work on all SBCL and Clozure CL platforms
except for Clozure CL on Power PC.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install libgmp-dev
</pre></div>
</div>
</div>
<div class="section" id="latex-optional">
<h3><a class="toc-backref" href="#id8">LaTeX (optional)</a><a class="headerlink" href="#latex-optional" title="Permalink to this headline">¶</a></h3>
<p>If you run FriCAS in <a class="reference external" href="https://www.gnu.org/software/emacs/">Emacs</a> (efricas) you can enable</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>)set output tex on
</pre></div>
</div>
<p>to show rendered TeX output.  For that to work, you need the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install texlive auctex dvipng
</pre></div>
</div>
<p>In order to build the <a class="reference external" href="https://.github.io/fricas/book.pdf">FriCAS Book</a>, you also need the following
LaTeX packages (available from <a class="reference external" href="https://www.ctan.org/">CTAN</a>).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>amsmath
breqn
tensor
mleftright
epsf
verbatim
hyperref
color
listings
makeidx
xparse
tikz
</pre></div>
</div>
</div>
<div class="section" id="sphinxdoc-optional">
<h3><a class="toc-backref" href="#id9">SphinxDoc (optional)</a><a class="headerlink" href="#sphinxdoc-optional" title="Permalink to this headline">¶</a></h3>
<p>The documentation is built via <a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install python3 python3-pip
pip3 install -U Sphinx
</pre></div>
</div>
</div>
<div class="section" id="aldor-optional">
<h3><a class="toc-backref" href="#id10">Aldor (optional)</a><a class="headerlink" href="#aldor-optional" title="Permalink to this headline">¶</a></h3>
<p>If you want to use <a class="reference external" href="https://github.com/aldorlang/aldor">Aldor</a> to extend the FriCAS library, you must, of
course, hava <a class="reference external" href="https://github.com/aldorlang/aldor">Aldor</a> installed, and add <code class="docutils literal notranslate"><span class="pre">--enable-aldor</span></code> to your
configure options when you compile FriCAS.</p>
</div>
<div class="section" id="extra-libraries-needed-by-ecl">
<h3><a class="toc-backref" href="#id11">Extra libraries needed by ECL</a><a class="headerlink" href="#extra-libraries-needed-by-ecl" title="Permalink to this headline">¶</a></h3>
<p>This only applies if you use Debian ECL.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install libffi-dev
</pre></div>
</div>
</div>
</div>
<div class="section" id="detailed-installations-instructions">
<h2><a class="toc-backref" href="#id12">Detailed installations instructions</a><a class="headerlink" href="#detailed-installations-instructions" title="Permalink to this headline">¶</a></h2>
<p>We assume that you have installed all necessary prerequisittes.</p>
<ol class="arabic" start="0">
<li><p>Change to a directory with enough (0.8 GB) free space.</p></li>
<li><p>Fetch sources.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git clone --depth 1 https://github.com/fricas/fricas
</pre></div>
</div>
<p>Remove the <code class="docutils literal notranslate"><span class="pre">--depth</span> <span class="pre">1</span></code> option for access to the change history.</p>
</li>
<li><p>Create build directory and change to it</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir fr-build
cd fr-build
</pre></div>
</div>
</li>
<li><p>Configure.  Assuming that you want fricas files to be installed in
<code class="docutils literal notranslate"><span class="pre">/tmp/usr</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>../fricas/configure --with-lisp=/path/to/your/lisp --prefix=/tmp/usr
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">/path/to/your/lisp</span></code> is name of your Lisp.  For example,
type</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>../fricas/configure --with-lisp=&quot;sbcl --dynamic-space-size 4096&quot; --prefix=/tmp/usr --enable-gmp --enable-aldor
</pre></div>
</div>
<p>to build with SBCL and 4 GiB dynamic space, use GMP, and enable the
build of the Aldor library <code class="docutils literal notranslate"><span class="pre">libfricas.al</span></code>.</p>
<p>Type</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>../fricas/configure --help
</pre></div>
</div>
<p>to see all possible options.</p>
</li>
<li><p>Build and install</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make
make install
</pre></div>
</div>
<p>Optionaly, to gain confidence that your build works, you can
run tests</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make check
</pre></div>
</div>
</li>
</ol>
<div class="section" id="extra-information">
<h3><a class="toc-backref" href="#id13">Extra information</a><a class="headerlink" href="#extra-information" title="Permalink to this headline">¶</a></h3>
<p>The preferred way to build FriCAS is to use an already installed Lisp.
Also, it is preferable to use a separate build directory.  Assuming
that the source tree is in <code class="docutils literal notranslate"><span class="pre">$HOME/fricas</span></code>, you build in
<code class="docutils literal notranslate"><span class="pre">$HOME/fricas-build</span></code> subdirectory and your Lisp is called
<code class="docutils literal notranslate"><span class="pre">sbcl</span></code> the following should just work.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd $HOME/fricas-build
$HOME/fricas/configure --with-lisp=sbcl &amp;&amp; make &amp;&amp; sudo make install
</pre></div>
</div>
<p>Currently <code class="docutils literal notranslate"><span class="pre">--with-lisp</span></code> option accepts all supported lisp variants,
namely SBCL, CLISP, ECL, GCL and Clozure CL (openmcl).  Note: the
argument is just a command to invoke the respective Lisp variant.
Build machinery will automatically detect which Lisp is in use and
adjust as needed.</p>
</div>
<div class="section" id="hyperdoc-and-graphics">
<h3><a class="toc-backref" href="#id14">HyperDoc and graphics</a><a class="headerlink" href="#hyperdoc-and-graphics" title="Permalink to this headline">¶</a></h3>
<p>If you compile FriCAS from the <a class="reference external" href="https://github.com/hemmecke/fricas">FriCAS git repository</a>, and <code class="docutils literal notranslate"><span class="pre">configure</span></code>
does not detect the <code class="docutils literal notranslate"><span class="pre">xvfb-run</span></code> program, then graphic examples will
not be built.  This results in broken HyperDoc pages – all graphic
examples will be missing (and trying to access them will crash
hypertex).</p>
<p>The get working graphic examples login into X and replace <code class="docutils literal notranslate"><span class="pre">make</span></code>
above by the following</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make MAYBE_VIEWPORTS=viewports
</pre></div>
</div>
<p>Alternatively, after <code class="docutils literal notranslate"><span class="pre">make</span></code> finishes use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make viewports
</pre></div>
</div>
<p><em>Important</em>: building graphic examples accesses the X server, so it
will not work on text console.  During build drawings will temporarily
appear on the screen.  Redirecting X via <code class="docutils literal notranslate"><span class="pre">ssh</span></code> should work fine, but
may be slow.</p>
<p>It is possible to use the <code class="docutils literal notranslate"><span class="pre">xvfb-run</span></code> program, replacing
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">viewports</span></code> above by</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>xvfb-run -a -n 0 -s &#39;-screen 0 1024x768x24&#39; make viewports
</pre></div>
</div>
</div>
<div class="section" id="algebra-optimization">
<h3><a class="toc-backref" href="#id15">Algebra optimization</a><a class="headerlink" href="#algebra-optimization" title="Permalink to this headline">¶</a></h3>
<p>When writing/compiling programs there is always tradeoff between speed
and safety.  Programs may include many checks to detect errors early
(and allow recovery).  Such programs are safe but checks take time so
the program is slower.  Or a program may just blindly goes forward
hoping that everything goes well.  Typically the second program will be
faster, but in case of problems it may crash without any hint why and
take user data with it.</p>
<p>Safety checks may be written by programmers, but another possibility
is to have a compiler which automatically inserts various checks.
FriCAS is compiled by a Lisp compiler and Lisp compilers may insert
safety checks.  How many checks are inserted may be controlled by the
user.  By default FriCAS tries to strike good balance between speed and
safety.  However, some FriCAS users want different tradeoff.  The</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--enable-algebra-optimization=S
</pre></div>
</div>
<p>option to configure allows changing this setting: S is a Lisp
expression specifying speed/safety tradeoff used by Lisp compiler.  For
example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--enable-algebra-optimization=&quot;((speed 3) (safety 0))&quot;
</pre></div>
</div>
<p>chooses fastest (but unsafe) variant, while</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--enable-algebra-optimization=&quot;((speed 2) (safety 3))&quot;
</pre></div>
</div>
<p>should be very safe (but possibly slow).</p>
<p>Note: this setting affects only algebra (that is mathematical code).
The rest of FriCAS always uses default setting.  Rationale for this is
that mathematical code is unlikely to contain errors which can crash
the whole system.</p>
</div>
<div class="section" id="using-gmp-with-sbcl-or-clozure-cl">
<h3><a class="toc-backref" href="#id16">Using GMP with SBCL or Clozure CL</a><a class="headerlink" href="#using-gmp-with-sbcl-or-clozure-cl" title="Permalink to this headline">¶</a></h3>
<p>Currently on average FriCAS is fastest when compiled using <a class="reference external" href="http://sbcl.sourceforge.net/platform-table.html">SBCL</a>.
However, SBCL normally uses its own routines for computations with
large numbers and those routines are slower than <a class="reference external" href="https://gmplib.org">GMP</a>.  FriCAS now has
special support to replace sbcl arithmetic routines by GMP.  To use
this support install GMP including header files (development package
if you install via a package manager).  Currently there are two
available <a class="reference external" href="https://gmplib.org">GMP</a> versions, version 5 is much faster than version 4.  Then
configure FriCAS adding <code class="docutils literal notranslate"><span class="pre">--enable-gmp</span></code> option to the <code class="docutils literal notranslate"><span class="pre">configure</span></code>
arguments.</p>
<p>FriCAS also has support for using <a class="reference external" href="https://gmplib.org">GMP</a> with <a class="reference external" href="http://ccl.clozure.com/manual/chapter2.2.html">Clozure CL</a>.  Currently
Clozure CL with GMP works on 32/64 bit Intel/AMD processors and ARM
(using Clozure CL with GMP is not supported on Power PC processors).</p>
<p>When you have GMP installed in a non-standard location (this usually
means anything other than <code class="docutils literal notranslate"><span class="pre">/usr</span></code> or <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code>) then you can
specify the location with</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>configure`--with-gmp=PATH
</pre></div>
</div>
<p>This supposes that the include file is in <code class="docutils literal notranslate"><span class="pre">PATH/include</span></code> and libgmp
is in <code class="docutils literal notranslate"><span class="pre">PATH/lib</span></code>.  If you have a different setup, then you can
specify</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--with-gmp-include=INCLUDEPATH --with-gmp-lib=LIBPATH
</pre></div>
</div>
<p>(specify the directories where the include files and libgmp are found,
respectively).</p>
<p>These options also implicitly set <code class="docutils literal notranslate"><span class="pre">--enable-gmp</span></code>.  However, if
<code class="docutils literal notranslate"><span class="pre">--enable-gmp=no</span></code> is given, then <code class="docutils literal notranslate"><span class="pre">--with-gmp=...</span></code>,
<code class="docutils literal notranslate"><span class="pre">--with-gmp-include=...</span></code> and <code class="docutils literal notranslate"><span class="pre">--with-gmp-lib=...</span></code> is ignored.</p>
</div>
<div class="section" id="building-documentation">
<h3><a class="toc-backref" href="#id17">Building documentation</a><a class="headerlink" href="#building-documentation" title="Permalink to this headline">¶</a></h3>
<p>After a build of FriCAS, (suppose your build directory is under
<code class="docutils literal notranslate"><span class="pre">$BUILD</span></code>), the <a class="reference external" href="https://.github.io/fricas/index.html">FriCAS home page</a> can be built via</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd $BUILD/src/doc
make doc
</pre></div>
</div>
<p>This builds the full content of the <a class="reference external" href="https://.github.io/fricas/index.html">FriCAS home page</a> including the
<a class="reference external" href="https://.github.io/fricas/book.pdf">FriCAS Book</a> (also known as the FriCAS User Guide) into the
directory <code class="docutils literal notranslate"><span class="pre">src/doc/html</span></code> from which it can be committed to the
<code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch of the official <a class="reference external" href="https://github.com/hemmecke/fricas">FriCAS git repository</a>.</p>
<p>Most links also work fine if you start</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>firefox src/doc/html/index.html
</pre></div>
</div>
<p>but some links point to the web.  If you want the links referring only
to the data on your computer, you call the compilation like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd $BUILD/src/doc
make localdoc
</pre></div>
</div>
<p>This will have broken references to the
<a class="reference external" href="https://fricas.github.io/fricas-notebooks/">FriCAS Demos and Tutorials</a>
as they live in a separate repository.  Do the following to get a local
copy and thus have working references.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd $BUILD/src/doc/html
git clone -b gh-pages https://github.com/fricas/fricas-notebooks
</pre></div>
</div>
<p>For more control on the generation of the FriCAS website content,
you can set various variables (see <code class="docutils literal notranslate"><span class="pre">src/doc/Makefile.in</span></code>)
in the <a class="reference external" href="https://github.com/hemmecke/fricas">FriCAS git repository</a>.
For example, if you like to push to your forked FriCAS repository and
refer to branch <code class="docutils literal notranslate"><span class="pre">foo</span></code> instead of <code class="docutils literal notranslate"><span class="pre">master</span></code> then do as follows
(replace <code class="docutils literal notranslate"><span class="pre">hemmecke</span></code> by your account name).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make PACKAGE_SOURCE=https://github.com/hemmecke/fricas \
     BRANCH=foo \
     PACKAGE_URL=https://hemmecke.github.io/fricas \
     doc
</pre></div>
</div>
<p>If you want to change the version information provided by default
through <code class="docutils literal notranslate"><span class="pre">configure.ac</span></code>, you can add a variable assignment like this
to the above command.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PACKAGE_VERSION=$(git log -1 --pretty=%H)
PACKAGE_VERSION=&quot;1.3.6+ `date +&#39;%Y-%m-%d %H:%M&#39;`&quot;
</pre></div>
</div>
<p>Then, checkout the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch and put the data from
<code class="docutils literal notranslate"><span class="pre">$BUILD/src/doc/html</span></code> into your <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git clone git@github.com:hemmecke/fricas.git
git checkout gh-pages
git rm -rf .
rm &#39;.gitignore&#39;
echo &#39;https://help.github.com/articles/using-jekyll-with-pages&#39; &gt; .nojekyll
cp -a $BUILD/src/doc/html/* .
rm -r _sources/api/
git add .
git commit -m &quot;$PACKAGE_VERSION&quot;
git push origin gh-pages
</pre></div>
</div>
<p>Of course, leave out the <code class="docutils literal notranslate"><span class="pre">--orphan</span></code> switch, if you already have an
appropriate <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p>
<p>Optional: If you add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>text/x-spad       spad
</pre></div>
</div>
<p>to <code class="docutils literal notranslate"><span class="pre">/etc/mime.types</span></code> and in firefox associate <code class="docutils literal notranslate"><span class="pre">text/x-spad</span></code> with
your editor, then clicking on a <code class="docutils literal notranslate"><span class="pre">.spad</span></code> file opens the <cite>.spad</cite> file
in in this editor.</p>
</div>
<div class="section" id="aldor-library-libfricas-al">
<h3><a class="toc-backref" href="#id18">Aldor library libfricas.al</a><a class="headerlink" href="#aldor-library-libfricas-al" title="Permalink to this headline">¶</a></h3>
<p>You can not only extend the FriCAS library by <code class="docutils literal notranslate"><span class="pre">.spad</span></code> files (SPAD
programs), but also by <code class="docutils literal notranslate"><span class="pre">.as</span></code> files (<a class="reference external" href="https://github.com/aldorlang/aldor">Aldor</a> programs).  For the latter
to work FriCAS needs a library <code class="docutils literal notranslate"><span class="pre">libfricas.al</span></code>.</p>
<p>This library can be build as follows.
(An Aldor compiler is of course a prerequisite.)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>configure --enable-aldor --prefix=/tmp/usr
( cd src/aldor &amp;&amp;  make )
make install
</pre></div>
</div>
<p>After that you should be able to compile and use the program below in
a FriCAS session via</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>)compile sieve.as
sieve 10
</pre></div>
</div>
<p>The program <code class="docutils literal notranslate"><span class="pre">sieve.as</span></code> is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--
-- sieve.as: A prime number sieve to count primes &lt;= n.
--
#include &quot;fricas&quot;

N ==&gt; NonNegativeInteger;
import from Boolean, N, Integer;

sieve(n: N): N  == {
    isprime: PrimitiveArray Boolean := new(n+1, true);
    np: N := 0;
    two: N := 2;
    for p in two..n | isprime(p::Integer) repeat {
        np := np + 1;
        for i in two*p..n by p::Integer repeat {
            isprime(i::Integer) := false;
        }
    }
    np
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="known-problems">
<h2><a class="toc-backref" href="#id19">Known problems</a><a class="headerlink" href="#known-problems" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>currently on when using case insensitive filesystem (typically on
Mac OSX and Windows), the git version can be only build in a
separate directory (in-tree build will fail).  This does not affect
release tarball.</p></li>
<li><p>In general, any error when generating documentation will cause build
to hang.</p></li>
<li><p>32-bit sbcl from 1.5.9 to 2.1.3 may miscompile floating point
comparisons.   Due to this most plots wil fail.   The problem is
fixed in developement version of sbcl.   Alternatively, use older
version of sbcl.   64-bit sbcl works OK.</p></li>
<li><p>by default sbcl 1.0.54 and newer limits memory use to 1GB, which is
too small for heavy use.  To work around this one can pass
<code class="docutils literal notranslate"><span class="pre">--dynamic-space-size</span></code> argument during sbcl build to increase
default limit.
We recommend limit slightly smaller than amount of
available RAM (in this way FriCAS will be able to use almost all
RAM, but limit should prevent thrashing).</p></li>
<li><p>Some Linux versions, notably SuSE, by default seem to have very
small limit on virtual memory.  This causes build failure when using
sbcl or Clozure CL.  Also if limit on virtual memory is too small
sbcl-based or Clozure CL-based FriCAS binary will silently fail at
startup.  The simplest workaround is to increase limit, in the shell
typing</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ulimit -v unlimited
</pre></div>
</div>
<p>Alternatively for sbcl one can use <code class="docutils literal notranslate"><span class="pre">--dynamic-space-size</span></code> argument
to decrease use of virtual memory.</p>
</li>
<li><p>On new Linux kernel build using Clisp may take very long time.  This
is caused by frequent calls to <code class="docutils literal notranslate"><span class="pre">fsync</span></code> performed without need by
Clisp.</p></li>
<li><p>on some systems (notably MAC OSX) when using sbcl default limit of
open files may be too low.  To workaround increase limit (experiments
suggest that 512 open files is enough).  This should not be needed in
FriCAS 1.1.7.</p></li>
<li><p>sbcl from 1.3.1 to 1.3.4 runs out of memory when compiling FriCAS.
This is fixed in newer versions of sbcl.</p></li>
<li><p>using sbcl from 1.0.47 to 1.0.49 compilation is very slow (few hours
on fast machine).  This is fixed in newer versions of sbcl.</p></li>
<li><p>sbcl-1.0.29 has a bug in the <code class="docutils literal notranslate"><span class="pre">directory</span></code> function which causes
build failure.  This problem is fixed in 1.0.29.54.rc1.</p></li>
<li><p>1.0.29.54.rc1 has broken complex <code class="docutils literal notranslate"><span class="pre">tanh</span></code> function – you will get
wrong results when applying <code class="docutils literal notranslate"><span class="pre">tanh</span></code> to <code class="docutils literal notranslate"><span class="pre">Complex</span> <span class="pre">DoubleFloat</span></code>.</p></li>
<li><p>in sbcl 1.0.35 and up Control-C handling did not work.  This should
be fixed in current FriCAS.</p></li>
<li><p>prerelease gcl from gcl git repository is incompatible with FriCAS
and build will fail.</p></li>
<li><p>older gcl had serious problems on Macs and Windows.</p></li>
<li><p>released gcl-2.6.9 has a bug which causes failure of FriCAS build.
This problem is fixed in 2.6.10 and later but but there is a
different one.  Namely, FriCAS builds but apparently on some machines
is miscompiled using released 2.6.10 or 2.6.11 or 2.6.12.</p></li>
<li><p>On Gentoo system installed gcl probably will not work, one need to
build own one.</p></li>
<li><p>Older version of gcl are incompatible with Fedora “exec-shield” and
strong address space randomization (setting randomize_va_space to
2).  Newest CVS version of 2.6.8 branch of gcl fixes this problem.</p></li>
<li><p>gcl needs bfd library.  Many Linux systems include version of bfd
library which is incompatible with gcl.  In the past we advised to
use in such case the following configure line</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>configure --disable-xgcl --disable-dynsysbfd --disable-statsysbfd --enable-locbfd
</pre></div>
</div>
</li>
<li><p>Boehm garbage collector included in old ECL (version 6.8) is incompatible
with Fedora strong address space randomization (setting randomize_va_space
to 2).   Using newer version of Boehm garbage collector (7.0 or 7.1) or
newer ECL should solve this problem.</p></li>
<li><p>Striping FriCAS binaries is likely to break them.  In particular
Clisp based FriCAS may crash with message</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>module &#39;syscalls&#39; requires package OS.
</pre></div>
</div>
<p>while sbcl will show only loader prompt.</p>
</li>
<li><p>On Mac OSX Tiger some users reported problems with pseudoterminals,
build stopped with the message</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fork_Axiom: Failed to reopen server: No such file or directory
</pre></div>
</div>
<p>This problem is believed to be fixed in FriCAS-1.0.5 (and later).</p>
</li>
<li><p>ECL 9.6.2 (and probably also 9.6.1 and 9.6.0) has a bug with
handling string constants which causes build based on this version
to fail.  This bugs is fixed in newer versions.  ECL 9.7.1 generates
wrong C code, so that build fails.  This is fixed in newer versions.</p></li>
<li><p>Unicode-enabled ECL before 9.8.4 is unable to build FriCAS.</p></li>
<li><p>ECL up to version 0.9l may segfault at exit.  This is usually
harmless, but may cause build to hang (for example when generating
<code class="docutils literal notranslate"><span class="pre">ug13.pht</span></code>).</p></li>
<li><p>Clozure CL 1.10 apparently miscompiles some operations on U32Matrix.
Version 1.11 works OK.</p></li>
<li><p>Clozure CL 1.7 and 1.6 apparently miscompiles FriCAS.  Versions 1.8
and newer and 1.5 and earlier work OK.</p></li>
<li><p>Clozure CL earlier than release 1.2 (former Openmcl) has a bug in
Lisp printer.  This bug causes incorrect printing of FriCAS types.
Also, Clozure CL earlier than release 1.2 has bug in complex cosine
function.  Those bugs are fixed in release 1.2.  If you want to use
earlier version you can work around the bugs applying the
<code class="docutils literal notranslate"><span class="pre">contib/omcl.diff</span></code> patch and recompiling the compiler (see the
patch or Clozure CL documentation for instructions).</p></li>
<li><p>Older versions of Clisp may fail to build FriCAS complaining about
opening already opened file – this is error is spurious, the file
in question in fact is closed, but for some reason Clisp got
confused.</p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api/index.html">FriCAS API</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/install.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/hemmecke/fricas/blob/wip/rstdoc-hemmecke/src/doc/sphinx/source/install.rst"
           rel="nofollow">Show on GitHub</a></li>
    <li><a href="https://github.com/hemmecke/fricas/edit/wip/rstdoc-hemmecke/src/doc/sphinx/source/install.rst"
           rel="nofollow">Edit on GitHub</a></li>
  </ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="help.html" title="Help"
             >next</a> |</li>
        <li class="right" >
          <a href="download.html" title="Download"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FriCAS</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="download.html" >Download</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installation Guide</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2007-2020, FriCAS Team.
    </div>
  </body>
</html>